<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<div id="Div1"></div>

<p id="ta1" style="display: ">
http://farm4.staticflickr.com/3864/14420515212_9999c800b4_b.jpg
https://pbs.twimg.com/media/Ev8-m-BVgAITNwN?format=jpg&name=orig

http://farm8.staticflickr.com/7412/8732133694_0c7e400022_b.jpg
https://pbs.twimg.com/media/EyspdqaUcAUtjb-?format=jpg&name=orig
https://pbs.twimg.com/media/Et1QZOaXcAUALhC?format=jpg&name=orig

http://farm4.staticflickr.com/3745/8971419780_cb88b22947_b.jpg
https://source.unsplash.com/ty4X72BSsXY/1279x853
https://pbs.twimg.com/media/Ev8-m-BVgAITNwN?format=jpg&name=orig
https://pbs.twimg.com/media/EySV3ImVgAkEEQN?format=jpg&name=orig
</p>

<script type="text/javascript">

SplitText();

Behavior();

console.log(uA.length);
console.log("ud1 "+uD[1]);
console.log(uD.length);


function SplitText() {
  var t1=document.getElementById('ta1').innerHTML;
  uA=t1.split(/[\s\n]/)
  uA.forEach((item,index)=>{
    if(!item){
      uA.splice(index,1);
      }
      })
}

function Behavior() {
  for(let i = 0 ; i < uA.length ; i++){
    IdentifyMethod(uA[i]);
    }
}

function Behavior2() {
  for(let i = 0 ; i < uD.length ; i++){
    document.getElementById("Div1").innerHTML+='<a data-fancybox="gallery" href="'
    +uD[i]+'"><img src="'+uD[i]+'" width="64"></a>';
    }
}

function IdentifyMethod(cU) {

var start_time = new Date().getTime();

var img_url = cU+'?'+start_time;

var img = new Image();

img.src = img_url;

uD = [];

var check = function(){

    if(img.width>0 || img.height>0){
        var diff = new Date().getTime() - start_time;

        var c=uA.indexOf(cU);
        console.log(uA.indexOf(cU)+" "+cU);

        uA.splice(c,1);

        console.log("uAl"+uA.length);
        console.log("uDl"+uD.length);
        console.log("ua0 "+uA[0]);
        console.log("ua1 "+uA[1]);
        console.log("ua2 "+uA[2]);
        console.log("ua3 "+uA[3]);
        console.log("ua4 "+uA[4]);
        console.log("ua5 "+uA[5]);
        console.log("ua6 "+uA[6]);

        document.body.innerHTML += 'from:check : width:'
        +img.width+',height:'+img.height+', time:'+diff+'ms<br>'+img.src+'<hr>';
        clearInterval(set);
    }

};

var set = setInterval(check,40);

img.onload = function(){
    var diff = new Date().getTime() - start_time;
    document.body.innerHTML += 'from:onload : width:'
    +img.width+',height:'+img.height+', time:'+diff+'ms<hr>';
};
}

</script>
