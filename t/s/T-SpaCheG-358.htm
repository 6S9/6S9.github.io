<div>
  <a data-fancybox="gallery" href="https://pics5.baidu.com/feed/f603918fa0ec08fa58665a849ec1d96755fbda6d.jpeg?token=9a2273e25cb594b65b976fbd61ea64d9"><img src="https://pics5.baidu.com/feed/f603918fa0ec08fa58665a849ec1d96755fbda6d.jpeg?token=9a2273e25cb594b65b976fbd61ea64d9" width="64"></a>
  <a data-fancybox="gallery" href="https://pics0.baidu.com/feed/6f061d950a7b0208298a37c6cdf616d9572cc814.jpeg?token=72e3f018686fcb86476c1532a3dbc1be"><img src="https://pics0.baidu.com/feed/6f061d950a7b0208298a37c6cdf616d9572cc814.jpeg?token=72e3f018686fcb86476c1532a3dbc1be" width="64"></a>
  <a data-fancybox="gallery" href="https://img.alicdn.com/imgextra/i3/1714128138/O1CN018BPTKm29zFxZxunxV_!!1714128138.png"><img src="https://img.alicdn.com/imgextra/i3/1714128138/O1CN018BPTKm29zFxZxunxV_!!1714128138.png" width="64"></a>
  <a data-fancybox="gallery" href="https://img.alicdn.com/imgextra/i3/1714128138/O1CN01wekGhP29zFxUeq6jO_!!1714128138.png"><img src="https://img.alicdn.com/imgextra/i3/1714128138/O1CN01wekGhP29zFxUeq6jO_!!1714128138.png" width="64"></a>
  <a data-fancybox="gallery" href="https://img.alicdn.com/imgextra/i2/1714128138/O1CN017dS9Al29zFxZ9MMoh_!!1714128138.png"><img src="https://img.alicdn.com/imgextra/i2/1714128138/O1CN017dS9Al29zFxZ9MMoh_!!1714128138.png" width="64"></a>
  <a data-fancybox="gallery" href="https://img.alicdn.com/imgextra/i3/1714128138/O1CN018BPTKm29zFxZxunxV_!!1714128138.png"><img src="https://img.alicdn.com/imgextra/i3/1714128138/O1CN018BPTKm29zFxZxunxV_!!1714128138.png" width="64"></a>
</div>

<div id="mdc">
</div>

<button onclick="toggleb()">toggle</button>
<button onclick="loadparse()">loadparse</button>

<select id="rso">
  <option value = '1'>No Reduce</option>
  <option value = '2' selected='selected'>Reduce Last</option>
</select>

<select id="hsp">
  <option value = '' selected='selected'>原寸</option>
  <option value = 'p=700/'>700</option>
  <option value = 'p=305/'>305</option>
  <option value = 'p=160x200/'>160x200</option>
</select>
<br>

<!-- 🌸<br>🍅　🍑<hr>🍀　SpARRowCHECKers-Generat-->
<textarea rows="5" cols="90" id="tau" oninput="textToArray();loadparse()">

</textarea>
<!-- 🍀<br>🍑　🍅<hr>🌸 -->

<br>
<textarea rows="20" cols="100" id="tar" oninput="loadparse()">

</textarea>

<script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

<script type="text/javascript">

var __urlRegex = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
var __imgRegex = /\.(?:jpe?g|gif|png|webp)$/i;

textToArray();
loadparse();

function parseURL($string){

    var exp = __urlRegex;
    return $string.replace(exp,function(match){
            __imgRegex.lastIndex=0;
            if(__imgRegex.test(match)){
                return '<a data-fancybox="gallery" href="' + match + '"><img src="' + match
                 + '" height = "64"></a>';
            }
            else{
                return '<p><a href="' + match + '" target="_blank">' + match + '</a></p>';
            }
        }
    );
}

function textToArray(){
  var textArea = document.getElementById("tau");
  var arrayFromTextArea = textArea.value.split(String.fromCharCode(10));
  for ( var i = 0; i < arrayFromTextArea.length; i++ ) {
    generateu(arrayFromTextArea[i]);
  }
}

function generateu(url) {
  var SegmentArr = url.split('/');
  var GeneratCount = SegmentArr.slice(-1).join().split('.').shift();
  var Extens = SegmentArr.slice(-1).join().split('.').pop();
  var SegmentCount = SegmentArr.length;
  var ReduceSegments = document.getElementById('rso').value;
  var HentaiSizeP = document.getElementById('hsp').value;
  var TopHalf = SegmentArr.slice(0,SegmentCount - ReduceSegments).join('/');

  for (var j = 1; j <= GeneratCount; j++) {
    tar.innerHTML += TopHalf + '/' + HentaiSizeP + j + '.' + Extens + '\n';
  }
}

function loadparse() {
  mdc.innerHTML = parseURL(tar.value);
}

function check(){
  var name=document.getElementById("name").value;
  var pass=document.getElementById("pass").value;
  if(name==!/[^\s]/.test(new Date().getTime()) && pass==String.fromCharCode(window.atob("MTIx"))){
    document.getElementById("dmb").style.display=""
  }else{
  }
}

function toggleb() {
  var x = document.getElementById("tar");
  if (x.style.display === "none") {
    x.style.display = "";
  } else {
    x.style.display = "none";
  }
}

</script>
